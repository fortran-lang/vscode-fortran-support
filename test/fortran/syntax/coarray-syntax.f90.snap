>! Coarray syntax
#^ source.fortran.free comment.line.fortran
# ^^^^^^^^^^^^^^^ source.fortran.free comment.line.fortran
>program test
#^^^^^^^ source.fortran.free meta.program.fortran keyword.control.program.fortran
#       ^ source.fortran.free meta.program.fortran
#        ^^^^ source.fortran.free meta.program.fortran entity.name.program.fortran
>  integer :: scalar[*]
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran storage.type.integer.fortran
#         ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.attribute-list.type-specification-statements.fortran
#          ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran keyword.operator.double-colon.fortran
#            ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran
#             ^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran
#                   ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran punctuation.bracket.left.fortran
#                    ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran keyword.operator.power.fortran
#                     ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran punctuation.bracket.left.fortran
>  real :: arr(10)[*]
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran storage.type.real.fortran
#      ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.attribute-list.type-specification-statements.fortran
#       ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran keyword.operator.double-colon.fortran
#         ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran
#          ^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran
#             ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran punctuation.parentheses.left.fortran
#              ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran constant.numeric.fortran
#                ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran punctuation.parentheses.right.fortran
#                 ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran punctuation.bracket.left.fortran
#                  ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran keyword.operator.power.fortran
#                   ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran punctuation.bracket.left.fortran
>  integer :: img[2, 3, *]
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran storage.type.integer.fortran
#         ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.attribute-list.type-specification-statements.fortran
#          ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran keyword.operator.double-colon.fortran
#            ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran
#             ^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran
#                ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran punctuation.bracket.left.fortran
#                 ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran constant.numeric.fortran
#                  ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran
#                    ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran constant.numeric.fortran
#                     ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran
#                       ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran keyword.operator.power.fortran
#                        ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.specification.type.fortran meta.name-list.fortran meta.parameter.fortran punctuation.bracket.left.fortran
>
>  scalar[5] = 42
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran
#        ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran punctuation.bracket.left.fortran
#         ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran constant.numeric.fortran
#          ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran punctuation.bracket.left.fortran
#           ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#            ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran keyword.operator.assignment.fortran
#             ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#              ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran constant.numeric.fortran
>  arr(3)[2] = 1.5
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran
#     ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran punctuation.parentheses.left.fortran
#      ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran constant.numeric.fortran
#       ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran punctuation.parentheses.right.fortran
#        ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran punctuation.bracket.left.fortran
#         ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran constant.numeric.fortran
#          ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.parameter.fortran punctuation.bracket.left.fortran
#           ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#            ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran keyword.operator.assignment.fortran
#             ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#              ^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran constant.numeric.fortran
>
>  sync all
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-all-memory.fortran keyword.control.sync-all-memory.fortran
>  sync images([1, 2, 3])
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^^^^^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran keyword.control.sync-images-team.fortran
#             ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran punctuation.parentheses.left.fortran
#              ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran meta.contructor.array punctuation.bracket.left.fortran
#               ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran meta.contructor.array constant.numeric.fortran
#                ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran meta.contructor.array
#                  ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran meta.contructor.array constant.numeric.fortran
#                   ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran meta.contructor.array
#                     ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran meta.contructor.array constant.numeric.fortran
#                      ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran meta.contructor.array punctuation.bracket.left.fortran
#                       ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-images-team.fortran punctuation.parentheses.right.fortran
>  sync memory
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^^^^^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.statement.sync-all-memory.fortran keyword.control.sync-all-memory.fortran
>
>  if (this_image() == 1) then
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#  ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran keyword.control.if.fortran
#    ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran
#     ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran punctuation.parentheses.left.fortran
#      ^^^^^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran support.function.intrinsic.fortran
#                ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran punctuation.parentheses.left.fortran
#                 ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran punctuation.parentheses.right.fortran
#                  ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran
#                   ^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran keyword.logical.fortran.modern
#                     ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran
#                      ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran constant.numeric.fortran
#                       ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.expression.control.logical.fortran punctuation.parentheses.right.fortran
#                        ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran
#                         ^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran keyword.control.then.fortran
>    x = scalar[num_images()]
#^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran
#    ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran meta.parameter.fortran
#     ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran
#      ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran keyword.operator.assignment.fortran
#       ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran
#        ^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran meta.parameter.fortran
#              ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran meta.parameter.fortran punctuation.bracket.left.fortran
#               ^^^^^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran meta.parameter.fortran support.function.intrinsic.fortran
#                         ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran meta.parameter.fortran punctuation.parentheses.left.fortran
#                          ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran meta.parameter.fortran punctuation.parentheses.right.fortran
#                           ^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran meta.parameter.fortran punctuation.bracket.left.fortran
>  end if
#^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran meta.block.if.fortran
#  ^^^^^^ source.fortran.free meta.program.fortran meta.block.specification.program.fortran keyword.control.endif.fortran
>end program
#^^^^^^^^^^^ source.fortran.free meta.program.fortran keyword.control.endprogram.fortran
>